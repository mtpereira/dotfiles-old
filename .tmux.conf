### CONFIGURATION ###
# 256 colors
set -g default-terminal "screen-256color"

# UTF-8
set -g utf8 on

# long history
set -g history-limit 100000

# automatic window name
setw -g automatic-rename on

# vi like bindings for copy mode
setw -g mode-keys vi

# constrain window size only when necessary
setw aggressive-resize on

# getting the mouse to work
set -g mode-mouse on
set -g mouse-resize-pane on
set -g mouse-select-pane on
set -g mouse-select-window on

# pomodoro timer
set-option -g status-right '#(cat ~/.thyme-tmux)'
set-option -g status-interval 1

### COLOUR ###
# default statusbar colors
set-option -g status-bg colour235 #base02
set-option -g status-fg colour136 #yellow
set-option -g status-attr default

# default window title colors
set-window-option -g window-status-fg colour244
set-window-option -g window-status-bg default
set-window-option -g window-status-attr dim

# active window title colors
set-window-option -g window-status-current-fg colour166 #orange
set-window-option -g window-status-current-bg default
set-window-option -g window-status-current-attr bright

# pane border
set-option -g pane-border-fg colour235 #base02
set-option -g pane-active-border-fg colour240 #base01

# message text
set-option -g message-bg colour235 #base02
set-option -g message-fg colour166 #orange

# pane number display
set-option -g display-panes-active-colour colour33 #blue
set-option -g display-panes-colour colour166 #orange

# clock
set-window-option -g clock-mode-colour colour64 #green

### KEYBINDINGS ###
# prefix key equal to screen
set-option -g prefix C-a
unbind C-b
bind-key a send-prefix

# last window, as screen
bind-key C-a last-window

# copy mode
unbind [
bind-key C-C copy-mode
unbind p
bind p paste-buffer
bind-key -t vi-copy 'v' begin-selection
bind-key -t vi-copy 'y' copy-selection

# reload configuration
bind R source-file ~/.tmux.conf \; display-message "Config reloaded..."

# resize windows
bind < resize-pane -L 4
bind > resize-pane -R 4
bind - resize-pane -D 4
bind + resize-pane -U 4

### PLUGINS ###
# tmux plugins
set -g @tpm_plugins '              \
  tmux-plugins/tpm                 \
  tmux-plugins/tmux-sensible       \
  tmux-plugins/tmux-resurrect      \
  tmux-plugins/tmux-yank           \
  tmux-plugins/tmux-sidebar        \
  tmux-plugins/tmux-continuum      \
'

# tmux-resurrect: restore vim sessions
set -g @resurrect-strategy-vim 'session'

# tmux-continuum: automatically restore sessions
set -g @continuum-restore 'on'
set -g @continuum-boot-options 'iterm'

# Initializes TMUX plugin manager.
# Keep this line at the very bottom of tmux.conf.
run-shell '~/.tmux/plugins/tpm/tpm'

